###########################
# Yugoslavian Events
###########################

add_namespace = DOD_yugoslavia


# Yugoslavia joins axis without solving Anti-German military - coup event
country_event = {
	id = DOD_yugoslavia.1
	title = DOD_yugoslavia.1.t
	desc = DOD_yugoslavia.1.desc
	picture = GFX_report_event_yugoslavian_king_peter
	
	fire_only_once = yes

	trigger = {
		original_tag = YUG
		is_in_faction_with = GE0
		has_idea = anti_german_military
		GE0 = {
			has_government = fascism
			is_faction_leader = yes
		}
	}

	mean_time_to_happen = { days = 2 }
	
	option = { #welp
		name = DOD_yugoslavia.1.a
		ai_chance = {
			factor = 70
			modifier = {
				has_war_with = EN0
				factor = 0
			}
		}	
		retire_country_leader = yes
		create_country_leader = {
			name = "Peter II"
			desc = "POLITICS_PETER_II_DESC"
			picture = "Portrait_Yugoslavia_Peter_II.dds"
			expire = "1965.1.1"
			ideology = royalism
			traits = {
				#
			}
		}
		GE0 = { country_event = DOD_yugoslavia.2 }
		if = {
			limit = {
				is_in_faction_with = GE0
			}
			GE0 = { remove_from_faction = YU0 }
		}
		if = {
			limit = {
				is_puppet_of = GE0
			}
			YU0 = {
				ROOT = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
			}
			set_politics = { ruling_party = monarchism elections_allowed = yes }
			add_popularity = { ideology = monarchism popularity = 0.5 }
		}
	}
	option = { #resistance to the coup, call on Germans for support
		name = DOD_yugoslavia.1.b
		ai_chance = {
			factor = 30
		}	
		GE0 = { country_event = DOD_yugoslavia.3 }
		if = {
			limit = {
				109 = { is_owned_by = YU0 }
			}
			set_capital = 109
			else = {
				if = {
					limit = {
						104 = { is_owned_by = YU0 }
					}
					set_capital = 104
				}
			}
		}
		start_civil_war = { ideology = democratic size = 0.6 capital = 107 states = { 108 107 106 864 105 } }
		random_country = {
			limit = {
				original_tag = YUG
				has_government = democratic
			}
			retire_country_leader = yes
			set_capital = 107
			set_variable = { global.yug_rebel_tag = THIS.id }
			create_country_leader = {
				name = "Peter II"
				desc = "POLITICS_PETER_II_DESC"
				picture = "Portrait_Yugoslavia_Peter_II.dds"
				expire = "1965.1.1"
				ideology = conservatism
				traits = {
					#
				}
			}
		}
	}
}

#Yugoslavian coup event - Yugoslavia has rolled over, event for Germany to intervene
country_event = {
	id = DOD_yugoslavia.2
	title = DOD_yugoslavia.2.t
	desc = DOD_yugoslavia.2.desc
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	option = { #invasion!
		name = DOD_yugoslavia.2.a	
		YU0 = {
			ROOT = {
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
		if = {
			limit = {
				CR5 = { 
					exists = yes 
					is_subject_of = YU0
				}
			}
			puppet = CR5
		}
	}
}

#Yugoslavian coup event - Yugoslavian government resists the coup, Germany comes to the rescue...or not
country_event = {
	id = DOD_yugoslavia.3
	title = DOD_yugoslavia.2.t
	desc = DOD_yugoslavia.3.desc
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	option = { #invasion!
		name = DOD_yugoslavia.3.a
		ai_chance = {
			factor = 70
		}	
		YU0 = {
			ROOT = {
				create_wargoal = {
					type = annex_everything
					target = PREV
				}
			}
		}
	}

	option = { #rescue
		name = DOD_yugoslavia.3.b	
		ai_chance = {
			factor = 30
		}
		add_to_faction = YU0
	}
}

#Yugoslavian independence war(s)
country_event = {
	id = DOD_yugoslavia.10
	title = DOD_yugoslavia.10.t
	desc = DOD_yugoslavia.10.desc
	picture = GFX_report_event_yugoslavia_partisans
	
	trigger = {
		original_tag = YUG
		has_idea = YUG_idea_croatian_opposition
		has_war_with = GE0
		GE0 = {
			has_government = fascism
		}
		OR = {
			AND = {
				CR5 = { exists = yes }
				CR5 = { is_subject_of = YU0 }
			}
			109 = { is_owned_and_controlled_by = YU0 }
		}
	}
	mean_time_to_happen = {
		days = 4
	}
	
	fire_only_once = yes #would be funny though

	option = { 
		name = DOD_yugoslavia.10.a
		ai_chance = {
			factor = 70
		}	
		if = {
			limit = {
				CR5 = {
					exists = yes
					is_subject_of = YU0
				}
			}
			CR5 = {
				ROOT = {
					set_autonomy = { target = PREV autonomy_state = autonomy_free }
				}
			}
			YU0 = {
				CR5 = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
		if = { #if Montenegro exists, they also join
			limit = {
				MN0 = {
					exists = yes
					is_subject_of = YU0
				}
			}
			MN0 = {
				ROOT = {
					set_autonomy = { target = PREV autonomy_state = autonomy_free }
				}
			}
			YU0 = {
				MN0 = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
		if = {
			limit = {
				CR5 = {
					exists = no
				}
				109 = { is_owned_and_controlled_by = YU0 }
			}
			CR5 = { transfer_state = 109 }
			if = {
				limit = {
					103 = { is_owned_and_controlled_by = YU0 }
				}
				CR5 = { transfer_state = 103 }
			}
			if = {
				limit = {
					863 = { is_owned_and_controlled_by = YU0 }
				}
				CR5 = { transfer_state = 863 }
			}
			if = {
				limit = {
					862 = { is_owned_and_controlled_by = YU0 }
				}
				CR5 = { transfer_state = 862 }
			}
			if = {
				limit = {
					861 = { is_owned_and_controlled_by = YU0 }
				}
				CR5 = { transfer_state = 861 }
			}
			CR5 = {
				declare_war_on = {
					target = YU0
					type = annex_everything
				}
				load_oob = "CRO_YUG_independence"
			}
		}
	}
}

#Yugoslavia wants to buy planes - event for GER,FRA,ENG,ITA
country_event = {
	id = DOD_yugoslavia.20
	title = DOD_yugoslavia.20.t
	desc = DOD_yugoslavia.20.desc
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes
	
	option = { # send some fighters
		name = DOD_yugoslavia.20.a
		ai_chance = {
			factor = 70
		}	
		trigger = {
			OR = {
				has_equipment = { fighter_equipment > 50 }
				has_equipment = { jet_fighter_equipment > 50 }
			}
		}
		if = {
			limit = {
				has_equipment = { jet_fighter_equipment > 50 }
			}
			send_equipment = {
				target = YU0
				type = jet_fighter_equipment
				amount = 50
			}
		}
		else = {
			send_equipment = {
				target = YU0
				type = fighter_equipment
				amount = 50
			}
		}
		add_timed_idea = { idea = YUG_air_payment days = 180 }
		YU0 = {
			country_event = DOD_yugoslavia.21
		}
	}	
	option = { # send some bombers
		name = DOD_yugoslavia.20.b
		ai_chance = {
			factor = 70
		}
		trigger = {
			OR = {
				has_equipment = { tac_bomber_equipment > 25 }
				has_equipment = { jet_tac_bomber_equipment > 25 }
			}
		}
		if = {
			limit = {
				has_equipment = { jet_tac_bomber_equipment > 50 }
			}
			send_equipment = {
				target = YU0
				type = jet_tac_bomber_equipment
				amount = 25
			}
		}
		else = {
			send_equipment = {
				target = YU0
				type = tac_bomber_equipment
				amount = 25
			}
		}
		add_timed_idea = { idea = YUG_air_payment days = 180 }
		YU0 = {
			country_event = DOD_yugoslavia.22
		}
	}

	option = { # divert some fighters from production
		name = DOD_yugoslavia.20.d
		ai_chance = {
			factor = 70
		}	
		trigger = {
			NOT = { has_equipment = { fighter_equipment > 50 } }
			NOT = { has_equipment = { jet_fighter_equipment > 50 } }
		}
		add_timed_idea = { idea = YUG_air_payment days = 180 }
		add_timed_idea = { idea = YUG_fighter_production_diverted days = 120 }
		YU0 = {
			country_event = DOD_yugoslavia.23
		}
	}

	option = { # divert some bombers from production
		name = DOD_yugoslavia.20.e
		ai_chance = {
			factor = 70
		}
		trigger = {
			NOT = { has_equipment = { tac_bomber_equipment > 25 } }
			NOT = { has_equipment = { jet_tac_bomber_equipment > 25 } }
		}
		add_timed_idea = { idea = YUG_air_payment days = 180 }
		add_timed_idea = { idea = YUG_bomber_production_diverted days = 120 }
		YU0 = {
			country_event = DOD_yugoslavia.24
		}
	}
	option = { # no
		name = DOD_yugoslavia.20.c
		ai_chance = {
			factor = 30
		}	
	}	
		
	
}
#Yugoslavia wants to buy planes - Major nation sells some fighters
country_event = {
	id = DOD_yugoslavia.21
	title = DOD_yugoslavia.21.t
	desc = DOD_yugoslavia.21.desc   
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes
	
	option = { # cool
		name = DOD_yugoslavia.21.a
		ai_chance = {
			factor = 30
		}
		add_opinion_modifier = { target = FROM modifier = YUG_sold_planes}	
	}	
		
	
}

#Yugoslavia wants to buy planes - Major nation sells some bombers
country_event = {
	id = DOD_yugoslavia.22
	title = DOD_yugoslavia.22.t
	desc = DOD_yugoslavia.22.desc
	picture = GFX_report_event_generic_bombers
	
	is_triggered_only = yes
	
	option = { # cool
		name = DOD_yugoslavia.21.a
		ai_chance = {
			factor = 30
		}
		add_opinion_modifier = { target = FROM modifier = YUG_sold_planes}	
	}	
		
	
}
#Yugoslavia wants to buy planes - Major nation sells some fighters
country_event = {
	id = DOD_yugoslavia.23
	title = DOD_yugoslavia.21.t
	desc = DOD_yugoslavia.21.desc   
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes
	
	option = { # cool
		name = DOD_yugoslavia.21.a
		ai_chance = {
			factor = 30
		}
		if = {
			limit = {
				FROM = {
					tag = GE0
				}
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = early_fighter
						NOT = { has_tech = fighter1 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 50 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = fighter1 
						NOT = { has_tech = fighter2 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 50 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = fighter2 
						NOT = { has_tech = fighter3 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 50 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = fighter3 
						NOT = { has_tech = jet_fighter1 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 50 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = jet_fighter1 
						NOT = { has_tech = jet_fighter2 }
					} 
				}
				add_equipment_to_stockpile = { type = jet_fighter_equipment_1 amount = 50 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = jet_fighter2 
					} 
				}
				add_equipment_to_stockpile = { type = jet_fighter_equipment_2 amount = 50 producer = GE0 } 
			}
		} 
		else_if = {
			limit = {
				FROM = {
					tag = IT0
				}
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = early_fighter
						NOT = { has_tech = fighter1 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 50 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = fighter1 
						NOT = { has_tech = fighter2 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 50 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = fighter2 
						NOT = { has_tech = fighter3 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 50 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = fighter3 
						NOT = { has_tech = jet_fighter1 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 50 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = jet_fighter1 
						NOT = { has_tech = jet_fighter2 }
					} 
				}
				add_equipment_to_stockpile = { type = jet_fighter_equipment_1 amount = 50 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = jet_fighter2 
					} 
				}
				add_equipment_to_stockpile = { type = jet_fighter_equipment_2 amount = 50 producer = IT0 } 
			}
		}

		else_if = {
			limit = {
				FROM = {
					tag = FR0
				}
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = early_fighter
						NOT = { has_tech = fighter1 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 50 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = fighter1 
						NOT = { has_tech = fighter2 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 50 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = fighter2 
						NOT = { has_tech = fighter3 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 50 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = fighter3 
						NOT = { has_tech = jet_fighter1 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 50 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = jet_fighter1 
						NOT = { has_tech = jet_fighter2 }
					} 
				}
				add_equipment_to_stockpile = { type = jet_fighter_equipment_1 amount = 50 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = jet_fighter2 
					} 
				}
				add_equipment_to_stockpile = { type = jet_fighter_equipment_2 amount = 50 producer = FR0 } 
			}
		}

		else_if = {
			limit = {
				FROM = {
					tag = EN0
				}
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = early_fighter
						NOT = { has_tech = fighter1 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 50 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = fighter1 
						NOT = { has_tech = fighter2 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 50 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = fighter2 
						NOT = { has_tech = fighter3 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 50 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = fighter3 
						NOT = { has_tech = jet_fighter1 }
					} 
				}
				add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 50 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = jet_fighter1 
						NOT = { has_tech = jet_fighter2 }
					} 
				}
				add_equipment_to_stockpile = { type = jet_fighter_equipment_1 amount = 50 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = jet_fighter2 
					} 
				}
				add_equipment_to_stockpile = { type = jet_fighter_equipment_2 amount = 50 producer = EN0 } 
			}
		}
		add_opinion_modifier = { target = FROM modifier = YUG_sold_planes}	
	}	
		
	
}

#Yugoslavia wants to buy planes - Major nation sells some bombers
country_event = {
	id = DOD_yugoslavia.24
	title = DOD_yugoslavia.22.t
	desc = DOD_yugoslavia.22.desc
	picture = GFX_report_event_generic_bombers
	
	is_triggered_only = yes
	
	option = { # cool
		name = DOD_yugoslavia.21.a
		ai_chance = {
			factor = 30
		}
		if = {
			limit = {
				FROM = {
					tag = GE0
				}
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = early_bomber 
						NOT = { has_tech = tactical_bomber1 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_0 amount = 25 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = tactical_bomber1 
						NOT = { has_tech = tactical_bomber2 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1 amount = 25 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = tactical_bomber2 
						NOT = { has_tech = tactical_bomber3 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_2 amount = 25 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = tactical_bomber3 
						NOT = { has_tech = jet_tactical_bomber1 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_3 amount = 25 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = jet_tactical_bomber1 
						NOT = { has_tech = jet_tactical_bomber2 }
					} 
				}
				add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_1 amount = 25 producer = GE0 } 
			}
			if = {
				limit = { 
					GE0 = { 
						has_tech = jet_tactical_bomber2
					} 
				}
				add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_2 amount = 25 producer = GE0 } 
			}
		}
		else_if = {
			limit = {
				FROM = {
					tag = IT0
				}
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = early_bomber 
						NOT = { has_tech = tactical_bomber1 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_0 amount = 25 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = tactical_bomber1 
						NOT = { has_tech = tactical_bomber2 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1 amount = 25 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = tactical_bomber2 
						NOT = { has_tech = tactical_bomber3 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_2 amount = 25 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = tactical_bomber3 
						NOT = { has_tech = jet_tactical_bomber1 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_3 amount = 25 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = jet_tactical_bomber1 
						NOT = { has_tech = jet_tactical_bomber2 }
					} 
				}
				add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_1 amount = 25 producer = IT0 } 
			}
			if = {
				limit = { 
					IT0 = { 
						has_tech = jet_tactical_bomber2
					} 
				}
				add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_2 amount = 25 producer = IT0 } 
			}
		}

		else_if = {
			limit = {
				FROM = {
					tag = FR0
				}
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = early_bomber 
						NOT = { has_tech = tactical_bomber1 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_0 amount = 25 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = tactical_bomber1 
						NOT = { has_tech = tactical_bomber2 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1 amount = 25 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = tactical_bomber2 
						NOT = { has_tech = tactical_bomber3 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_2 amount = 25 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = tactical_bomber3 
						NOT = { has_tech = jet_tactical_bomber1 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_3 amount = 25 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = jet_tactical_bomber1 
						NOT = { has_tech = jet_tactical_bomber2 }
					} 
				}
				add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_1 amount = 25 producer = FR0 } 
			}
			if = {
				limit = { 
					FR0 = { 
						has_tech = jet_tactical_bomber2
					} 
				}
				add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_2 amount = 25 producer = FR0 } 
			}
		}

		else_if = {
			limit = {
				FROM = {
					tag = EN0
				}
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = early_bomber 
						NOT = { has_tech = tactical_bomber1 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_0 amount = 25 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = tactical_bomber1 
						NOT = { has_tech = tactical_bomber2 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1 amount = 25 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = tactical_bomber2 
						NOT = { has_tech = tactical_bomber3 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_2 amount = 25 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = tactical_bomber3 
						NOT = { has_tech = jet_tactical_bomber1 }
					} 
				}
				add_equipment_to_stockpile = { type = tac_bomber_equipment_3 amount = 25 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = jet_tactical_bomber1 
						NOT = { has_tech = jet_tactical_bomber2 }
					} 
				}
				add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_1 amount = 25 producer = EN0 } 
			}
			if = {
				limit = { 
					EN0 = { 
						has_tech = jet_tactical_bomber2
					} 
				}
				add_equipment_to_stockpile = { type = jet_tac_bomber_equipment_2 amount = 25 producer = EN0 } 
			}
		}
		add_opinion_modifier = { target = FROM modifier = YUG_sold_planes}	
	}	
		
	
}
#Yugoslavia pressured by Germany - Anschluss
country_event = {
	id = DOD_yugoslavia.30
	title = DOD_yugoslavia.30.t
	desc = DOD_yugoslavia.30.desc
	picture = GFX_report_event_german_speech
	
	is_triggered_only = yes
	
	option = { # put the squeeze on them
		name = DOD_yugoslavia.30.a
		ai_chance = {
			factor = 70
		}
		YU0 = { 
			country_event = DOD_yugoslavia.31 
			set_country_flag = YUG_GER_pressure_1 #for ai_weights in focus tree
		}
		
	}	
	option = { # not interested
		name = DOD_yugoslavia.30.b
		ai_chance = {
			factor = 30
		}
		
	}
		
	
}

#Yugoslavia pressured by Germany - First event
country_event = {
	id = DOD_yugoslavia.31
	title = DOD_yugoslavia.31.t
	desc = DOD_yugoslavia.31.desc
	picture = GFX_report_event_german_speech
	
	is_triggered_only = yes
		
	option = { # not that bad yet
		name = DOD_yugoslavia.31.a
		ai_chance = {
			factor = 30
		}
		
	}
		
	
}

#Yugoslavia pressured by Germany - Fate of CZE
country_event = {
	id = DOD_yugoslavia.32
	title = DOD_yugoslavia.30.t
	desc = DOD_yugoslavia.32.desc
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = { # put the squeeze on them
		name = DOD_yugoslavia.32.a
		ai_chance = {
			factor = 80
		}
		YU0 = { 
			country_event = DOD_yugoslavia.33 
			set_country_flag = YUG_GER_pressure_2 #for ai_weights
		}
		
	}	
	option = { # not interested
		name = DOD_yugoslavia.32.b
		ai_chance = {
			factor = 20
		}
		
	}
		
	
}

#Yugoslavia pressured by Germany - Second event
country_event = {
	id = DOD_yugoslavia.33
	title = DOD_yugoslavia.31.t
	desc = DOD_yugoslavia.33.desc
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
		
	option = { # not that bad
		name = DOD_yugoslavia.33.a
		
	}
}

#Yugoslavia pressured by Germany - Last Warning - after Fall of France
country_event = {
	id = DOD_yugoslavia.34
	title = DOD_yugoslavia.30.t
	desc = DOD_yugoslavia.34.desc
	picture = GFX_report_event_german_troops_paris
	
	mean_time_to_happen = {
		days = 5
	}
	fire_only_once = yes
	trigger = {
		tag = GE0
		NOT = {
			has_war_with = YU0
		}
		YU0 = {
			is_in_faction = no
		}
		FR0 = {
			OR = {
				has_capitulated = yes
				is_subject_of = GE0
			}
		}
	}
	
	option = { # put the squeeze on them
		name = DOD_yugoslavia.34.a
		ai_chance = {
			factor = 90
		}
		YU0 = { country_event = DOD_yugoslavia.35 }
		hidden_effect = {
			country_event = { id = DOD_yugoslavia.36 days = 90 random = 168 }
		}
		
	}	
	option = { # not interested
		name = DOD_yugoslavia.34.b
		ai_chance = {
			factor = 10
		}
		
	}
		
	
}

#Yugoslavia pressured by Germany - third event
country_event = {
	id = DOD_yugoslavia.35
	title = DOD_yugoslavia.31.t
	desc = DOD_yugoslavia.35.desc
	picture = GFX_report_event_german_troops_paris
	
	is_triggered_only = yes
		
	option = { # not that bad
		name = DOD_yugoslavia.35.a
		ai_chance = {
			factor = 30
		}
		
	}
		
	
}

#Yugoslavia pressured by Germany - War!
country_event = {
	id = DOD_yugoslavia.36
	title = DOD_yugoslavia.36.t
	desc = DOD_yugoslavia.36.desc
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		tag = GE0
		YU0 = {
			is_in_faction = no 
			exists = yes
			NOT = {
				focus_progress = { focus = YUG_join_axis progress > 0 } #that would just be mean
			}
		}
	}
	
	option = { # put the squeeze on them
		name = DOD_yugoslavia.36.a
		ai_chance = {
			factor = 90
		}
		YU0 = {
			ROOT = {
				declare_war_on = {
					target = PREV
					type = puppet_wargoal_focus
				}
			}
		}
		
	}	
	option = { # not interested
		name = DOD_yugoslavia.36.b
		ai_chance = {
			factor = 10
		}
		
	}
		
	
}

#Yugoslavia pressured by Britain - Balkan Strategy
country_event = {
	id = DOD_yugoslavia.40
	title = DOD_yugoslavia.30.t
	desc = DOD_yugoslavia.40.desc
	picture = GFX_report_event_chamberlain_announce
	
	is_triggered_only = yes
	
	option = { # put the squeeze on them
		name = DOD_yugoslavia.40.a
		ai_chance = {
			factor = 70
		}
		YU0 = { country_event = DOD_yugoslavia.41 }
		
	}	
	option = { # not interested
		name = DOD_yugoslavia.40.b
		ai_chance = {
			factor = 30
		}
		
	}
		
	
}

#Yugoslavia pressured by Britain - First event
country_event = {
	id = DOD_yugoslavia.41
	title = DOD_yugoslavia.41.t
	desc = DOD_yugoslavia.41.desc
	picture = GFX_report_event_french_british_officers
	
	is_triggered_only = yes
		
	option = { # not that bad yet
		name = DOD_yugoslavia.41.a
		ai_chance = {
			factor = 30
		}
		
	}	
}

#Yugoslavia pressured by Britain - Munich
country_event = {
	id = DOD_yugoslavia.42
	title = DOD_yugoslavia.30.t
	desc = DOD_yugoslavia.42.desc
	picture = GFX_report_event_french_british_officers
	
	is_triggered_only = yes
	
	option = { # put the squeeze on them
		name = DOD_yugoslavia.42.a
		ai_chance = {
			factor = 70
		}
		YU0 = { country_event = DOD_yugoslavia.43 }
		
	}	
	option = { # not interested
		name = DOD_yugoslavia.42.b
		ai_chance = {
			factor = 30
		}
		
	}
		
	
}

#Yugoslavia pressured by Britain - Second event
country_event = {
	id = DOD_yugoslavia.43
	title = DOD_yugoslavia.41.t
	desc = DOD_yugoslavia.43.desc
	picture = GFX_report_event_canadian_soldiers
	
	is_triggered_only = yes
		
	option = { # not that bad yet
		name = DOD_yugoslavia.43.a
		ai_chance = {
			factor = 30
		}
		
	}	
}

#Yugoslavia pressured by Britain - late 1940, last warning
country_event = {
	id = DOD_yugoslavia.44
	title = DOD_yugoslavia.30.t
	desc = DOD_yugoslavia.44.desc
	picture = GFX_report_event_french_british_officers
	
	fire_only_once = yes
	
	trigger = {
		original_tag = ENG
		has_government = democratic
		has_war_with = GE0
		NOT = { has_war_with = YU0 }
		NOT = { is_in_faction_with = YU0 }
		YU0 = { is_in_faction = no }
		YU0 = { NOT = { has_war_with = GE0 } }
		YU0 = { exists = yes }
		is_historical_focus_on = no
	}

	mean_time_to_happen = { days = 4 }
	
	option = { # put the squeeze on them
		name = DOD_yugoslavia.44.a
		ai_chance = {
			factor = 90
		}
		YU0 = { country_event = DOD_yugoslavia.45 }
		hidden_effect = { country_event = { id = DOD_yugoslavia.46 days = 180 random = 672 } }
		
	}	
	option = { # not interested
		name = DOD_yugoslavia.44.b
		ai_chance = {
			factor = 10
		}	
	}
}

#Yugoslavia pressured by Britain - Third event
country_event = {
	id = DOD_yugoslavia.45
	title = DOD_yugoslavia.41.t
	desc = DOD_yugoslavia.45.desc
	picture = GFX_report_event_british_inspect_troops
	
	is_triggered_only = yes
		
	option = { # not that bad yet
		name = DOD_yugoslavia.45.a
		ai_chance = {
			factor = 30
		}
		
	}	
}

#Yugoslavia pressured by Britain - war
country_event = {
	id = DOD_yugoslavia.46
	title = DOD_yugoslavia.30.t
	desc = DOD_yugoslavia.46.desc
	picture = GFX_report_event_ast_army
	
	is_triggered_only = yes
	fire_only_once = yes 
	trigger = {
		original_tag = ENG
		has_government = democratic
		YU0 = { is_in_faction = no }
		YU0 = { exists = yes }
		has_war_with = GE0
	}
	
	option = { # put the squeeze on them
		name = DOD_yugoslavia.46.a
		ai_chance = {
			factor = 90
		}
		YU0 = {
			ROOT = {
				declare_war_on = {
					target = PREV
					type = puppet_wargoal_focus
				}
			}
		}
		
	}	
	option = { # not interested
		name = DOD_yugoslavia.46.b
		ai_chance = {
			factor = 10
		}	
	}
}



#fighter competition - initial choice for Yugoslavia
country_event = {
	id = DOD_yugoslavia.150
	title = DOD_hungary.150.t
	desc = DOD_hungary.150.desc 
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes

	option = {# light fighter
		name = DOD_hungary.150.a
		trigger = {
			OR = {
				GE0 = {
					is_available_fighter_YUG = yes
				}
				FR0 = {
					is_available_fighter_YUG = yes
				}
				IT0 = {
					is_available_fighter_YUG = yes
				}
				EN0 = {
					is_available_fighter_YUG = yes
				}
				US0 = {
					is_available_fighter_YUG = yes
				}
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				has_tech = fighter1
				add = -10
			}
			modifier = {
				has_tech = fighter2
				add = -10
			}
			modifier = {
				has_tech = fighter3
				factor = 0
			}
		}
		country_event = DOD_yugoslavia.151 
		
	}

	option = {# heavy fighter
		name = DOD_hungary.150.b
		trigger = {
			OR = {
				GE0 = {
					is_available_heavy_fighter_YUG = yes
				}
				FR0 = {
					is_available_heavy_fighter_YUG = yes
				}
				IT0 = {
					is_available_heavy_fighter_YUG = yes
				}
				EN0 = {
					is_available_heavy_fighter_YUG = yes
				}
				US0 = {
					is_available_heavy_fighter_YUG = yes
				}
			}
		}
		country_event = DOD_yugoslavia.152
		ai_chance = {
			factor = 50
			modifier = {
				has_tech = heavy_fighter1
				add = -10
			}
			modifier = {
				has_tech = heavy_fighter2
				add = -10
			}
			modifier = {
				has_tech = heavy_fighter3
				factor = 0
			}
		}
	}
}

#Fighter competition - Yugoslavia is looking for a light fighter
country_event = {
	id = DOD_yugoslavia.151
	title = DOD_hungary.151.t
	desc = {
		text = DOD_hungary.151.desc_light_fighter
		trigger = {
			NOT = { 
				has_country_flag = GER_fighter_refused
				has_country_flag = ENG_fighter_refused
				has_country_flag = USA_fighter_refused
				has_country_flag = FRA_fighter_refused
				has_country_flag = ITA_fighter_refused
			} 
		}
	}
	desc = {
		text = DOD_hungary.151.desc_light_fighter_refused
		trigger = {
			OR = {
		 		has_country_flag = GER_fighter_refused
				has_country_flag = ENG_fighter_refused
				has_country_flag = USA_fighter_refused
				has_country_flag = FRA_fighter_refused
				has_country_flag = ITA_fighter_refused
		 	}
		}
	}
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes

	option = {# Select German Plane
		name = DOD_hungary.151.a
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = GE0
				factor = 10
			}
			modifier = {
				GE0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				GE0 = {
					has_tech = fighter1
				}
				add = 10
			}
			modifier = {
				GE0 = {
					has_tech = fighter2
				}
				add = 10
			}
			modifier = {
				GE0 = {
					has_tech = fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					GE0 = { has_tech = fighter1}
					YU0 = { NOT = { has_tech = fighter1 } }
				}
				AND = {
					GE0 = { has_tech = fighter2}
					YU0 = { NOT = { has_tech = fighter2 } }
				}
				AND = {
					GE0 = { has_tech = fighter3}
					YU0 = { NOT = { has_tech = fighter3 } }
				}
			}
			NOT = { has_war_with = GE0 }
			NOT = { has_country_flag = GER_fighter_refused }
		}
		GE0 = { country_event = DOD_yugoslavia.153 }	
	}

	option = {# select italian plane
		name = DOD_hungary.151.b
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = IT0
				factor = 10
			}
			modifier = {
				IT0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				IT0 = {
					has_tech = fighter1
				}
				add = 10
			}
			modifier = {
				IT0 = {
					has_tech = fighter2
				}
				add = 10
			}
			modifier = {
				IT0 = {
					has_tech = fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					IT0 = { has_tech = fighter1}
					YU0 = { NOT = { has_tech = fighter1 } }
				}
				AND = {
					IT0 = { has_tech = fighter2}
					YU0 = { NOT = { has_tech = fighter2 } }
				}
				AND = {
					IT0 = { has_tech = fighter3}
					YU0 = { NOT = { has_tech = fighter3 } }
				}
			}
			NOT = { has_war_with = IT0 }
			NOT = { has_country_flag = ITA_fighter_refused }
		}
		IT0 = { country_event = DOD_yugoslavia.153 }	
	}

	option = {# select french plane
		name = DOD_hungary.151.c
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = FR0
				factor = 10
			}
			modifier = {
				FR0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				FR0 = {
					has_tech = fighter1
				}
				add = 10
			}
			modifier = {
				FR0 = {
					has_tech = fighter2
				}
				add = 10
			}
			modifier = {
				FR0 = {
					has_tech = fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					FR0 = { has_tech = fighter1}
					YU0 = { NOT = { has_tech = fighter1 } }
				}
				AND = {
					FR0 = { has_tech = fighter2}
					YU0 = { NOT = { has_tech = fighter2 } }
				}
				AND = {
					FR0 = { has_tech = fighter3}
					YU0 = { NOT = { has_tech = fighter3 } }
				}
			}
			NOT = { has_war_with = FR0 }
			NOT = { has_country_flag = FRA_fighter_refused }
			
		}
		FR0 = { country_event = DOD_yugoslavia.153 }	
	}
	option = {# select british plane
		name = DOD_hungary.151.d
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = EN0
				factor = 10
			}
			modifier = {
				EN0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				EN0 = {
					has_tech = fighter1
				}
				add = 10
			}
			modifier = {
				EN0 = {
					has_tech = fighter2
				}
				add = 10
			}
			modifier = {
				EN0 = {
					has_tech = fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					EN0 = { has_tech = fighter1}
					YU0 = { NOT = { has_tech = fighter1 } }
				}
				AND = {
					EN0 = { has_tech = fighter2}
					YU0 = { NOT = { has_tech = fighter2 } }
				}
				AND = {
					EN0 = { has_tech = fighter3}
					YU0 = { NOT = { has_tech = fighter3 } }
				}
			}
			NOT = { has_war_with = EN0 }
			NOT = { has_country_flag = ENG_fighter_refused }
		}
		EN0 = { country_event = DOD_yugoslavia.153 }	
	}
	option = {# select american plane
		name = DOD_hungary.151.e
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = US0
				factor = 10
			}
			modifier = {
				US0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				US0 = {
					has_tech = fighter1
				}
				add = 10
			}
			modifier = {
				US0 = {
					has_tech = fighter2
				}
				add = 10
			}
			modifier = {
				US0 = {
					has_tech = fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					US0 = { has_tech = fighter1}
					YU0 = { NOT = { has_tech = fighter1 } }
				}
				AND = {
					US0 = { has_tech = fighter2}
					YU0 = { NOT = { has_tech = fighter2 } }
				}
				AND = {
					US0 = { has_tech = fighter3}
					YU0 = { NOT = { has_tech = fighter3 } }
				}
			}
			NOT = { has_war_with = US0 }
			NOT = { has_country_flag = USA_fighter_refused }
			NOT = { #to prevent overflow issues
				AND = {
					GE0 = {
						is_available_fighter_YUG = yes
					}
					FR0 = {
						is_available_fighter_YUG = yes
					}
					IT0 = {
						is_available_fighter_YUG = yes
					}
					EN0 = {
						is_available_fighter_YUG = yes
					}
				}
			}
		}
		US0 = { country_event = DOD_yugoslavia.153 }	
	}
	option = {# failsafe
		name = DOD_hungary.151.f	
		trigger = {
			OR = {
				has_country_flag = GER_fighter_refused
				has_country_flag = ITA_fighter_refused
				has_country_flag = ENG_fighter_refused
				has_country_flag = FRA_fighter_refused
				has_country_flag = USA_fighter_refused
			}
		}
		air_experience = 50
	}

}

#Fighter competition - Yugoslavia is looking for a heavy fighter
country_event = {
	id = DOD_yugoslavia.152
	title = DOD_hungary.152.t
	desc = {
		text = DOD_hungary.152.desc_heavy_fighter
		trigger = {
			NOT = { 
				has_country_flag = GER_heavy_fighter_refused
				has_country_flag = ENG_heavy_fighter_refused
				has_country_flag = USA_heavy_fighter_refused
				has_country_flag = FRA_heavy_fighter_refused
				has_country_flag = ITA_heavy_fighter_refused
			} 
		}
	}
	desc = {
		text = DOD_hungary.152.desc_heavy_fighter_refused
		trigger = {
			OR = {
		 		has_country_flag = GER_heavy_fighter_refused
				has_country_flag = ENG_heavy_fighter_refused
				has_country_flag = USA_heavy_fighter_refused
				has_country_flag = FRA_heavy_fighter_refused
				has_country_flag = ITA_heavy_fighter_refused
		 	}
		}
	}
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes

	option = {# Select German Plane
		name = DOD_hungary.151.a
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = GE0
				factor = 10
			}
			modifier = {
				GE0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				GE0 = {
					has_tech = heavy_fighter1
				}
				add = 10
			}
			modifier = {
				GE0 = {
					has_tech = heavy_fighter2
				}
				add = 10
			}
			modifier = {
				GE0 = {
					has_tech = heavy_fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					GE0 = { has_tech = heavy_fighter1}
					YU0 = { NOT = { has_tech = heavy_fighter1 } }
				}
				AND = {
					GE0 = { has_tech = heavy_fighter2}
					YU0 = { NOT = { has_tech = heavy_fighter2 } }
				}
				AND = {
					GE0 = { has_tech = heavy_fighter3}
					YU0 = { NOT = { has_tech = heavy_fighter3 } }
				}
			}
			NOT = { has_war_with = GE0 }
			NOT = { has_country_flag = GER_heavy_fighter_refused }
		}
		GE0 = { country_event = DOD_yugoslavia.154 }	
	}

	option = {# select italian plane
		name = DOD_hungary.151.b
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = IT0
				factor = 10
			}
			modifier = {
				IT0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				IT0 = {
					has_tech = heavy_fighter1
				}
				add = 10
			}
			modifier = {
				IT0 = {
					has_tech = heavy_fighter2
				}
				add = 10
			}
			modifier = {
				IT0 = {
					has_tech = heavy_fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					IT0 = { has_tech = heavy_fighter1}
					YU0 = { NOT = { has_tech = heavy_fighter1 } }
				}
				AND = {
					IT0 = { has_tech = heavy_fighter2}
					YU0 = { NOT = { has_tech = heavy_fighter2 } }
				}
				AND = {
					IT0 = { has_tech = heavy_fighter3}
					YU0 = { NOT = { has_tech = heavy_fighter3 } }
				}
			}
			NOT = { has_war_with = IT0 }
			NOT = { has_country_flag = ITA_heavy_fighter_refused }
		}
		IT0 = { country_event = DOD_yugoslavia.154 }	
	}

	option = {# select french plane
		name = DOD_hungary.151.c
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = FR0
				factor = 10
			}
			modifier = {
				FR0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				FR0 = {
					has_tech = heavy_fighter1
				}
				add = 10
			}
			modifier = {
				FR0 = {
					has_tech = heavy_fighter2
				}
				add = 10
			}
			modifier = {
				FR0 = {
					has_tech = heavy_fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					FR0 = { has_tech = heavy_fighter1}
					YU0 = { NOT = { has_tech = heavy_fighter1 } }
				}
				AND = {
					FR0 = { has_tech = heavy_fighter2}
					YU0 = { NOT = { has_tech = heavy_fighter2 } }
				}
				AND = {
					FR0 = { has_tech = heavy_fighter3}
					YU0 = { NOT = { has_tech = heavy_fighter3 } }
				}
			}
			NOT = { has_war_with = FR0 }
			NOT = { has_country_flag = FRA_heavy_fighter_refused }
			
		}
		FR0 = { country_event = DOD_yugoslavia.154 }	
	}
	option = {# select british plane
		name = DOD_hungary.151.d
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = EN0
				factor = 10
			}
			modifier = {
				EN0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				EN0 = {
					has_tech = heavy_fighter1
				}
				add = 10
			}
			modifier = {
				EN0 = {
					has_tech = heavy_fighter2
				}
				add = 10
			}
			modifier = {
				EN0 = {
					has_tech = heavy_fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					EN0 = { has_tech = heavy_fighter1}
					YU0 = { NOT = { has_tech = heavy_fighter1 } }
				}
				AND = {
					EN0 = { has_tech = heavy_fighter2}
					YU0 = { NOT = { has_tech = heavy_fighter2 } }
				}
				AND = {
					EN0 = { has_tech = heavy_fighter3}
					YU0 = { NOT = { has_tech = heavy_fighter3 } }
				}
			}
			NOT = { has_war_with = EN0 }
			NOT = { has_country_flag = ENG_heavy_fighter_refused }
		}
		EN0 = { country_event = DOD_yugoslavia.154 }	
	}
	option = {# select american plane
		name = DOD_hungary.151.e
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = US0
				factor = 10
			}
			modifier = {
				US0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				US0 = {
					has_tech = heavy_fighter1
				}
				add = 10
			}
			modifier = {
				US0 = {
					has_tech = heavy_fighter2
				}
				add = 10
			}
			modifier = {
				US0 = {
					has_tech = heavy_fighter3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					US0 = { has_tech = heavy_fighter1}
					YU0 = { NOT = { has_tech = heavy_fighter1 } }
				}
				AND = {
					US0 = { has_tech = heavy_fighter2}
					YU0 = { NOT = { has_tech = heavy_fighter2 } }
				}
				AND = {
					US0 = { has_tech = heavy_fighter3}
					YU0 = { NOT = { has_tech = heavy_fighter3 } }
				}
			}
			NOT = { has_war_with = US0 }
			NOT = { has_country_flag = USA_heavy_fighter_refused }
			NOT = { #to prevent overflow issues
				AND = {
					GE0 = {
						is_available_heavy_fighter_YUG = yes
					}
					FR0 = {
						is_available_heavy_fighter_YUG = yes
					}
					IT0 = {
						is_available_heavy_fighter_YUG = yes
					}
					EN0 = {
						is_available_heavy_fighter_YUG = yes
					}
				}
			}
		}
		US0 = { country_event = DOD_yugoslavia.154 }	
	}
	option = {# failsafe
		name = DOD_hungary.151.f	
		trigger = {
			OR = {
				has_country_flag = GER_heavy_fighter_refused
				has_country_flag = ITA_heavy_fighter_refused
				has_country_flag = ENG_heavy_fighter_refused
				has_country_flag = FRA_heavy_fighter_refused
				has_country_flag = USA_heavy_fighter_refused
			}
		}
		air_experience = 50
	}

}

#fighter competition - light fighter competition winner gets a choice whether to permit license production
country_event = {
	id = DOD_yugoslavia.153
	title = DOD_hungary.153.t
	desc = DOD_hungary.153.desc 
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes

	option = {# certainly
		name = DOD_hungary.153.a
		ai_chance = {
			factor = 90
			modifier = {
				has_war = yes
				factor = 0.5
			}
		}
		YU0 = { country_event = DOD_yugoslavia.155 }
		air_experience = 20
		if = {
			limit = {
				has_tech = fighter1
				NOT = { has_tech = fighter2 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV
						equipment = {
							type = fighter_equipment_1
							
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = fighter2
				NOT = { has_tech = fighter3 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV
						equipment = {
							type = fighter_equipment_2
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = fighter3
				NOT = { has_tech = jet_fighter1 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV
						equipment = {
							type = fighter_equipment_3
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = jet_fighter1
				NOT = { has_tech = jet_fighter2 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV
						equipment = {
							type = jet_fighter_equipment_1
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = jet_fighter2
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV
						equipment = {
							type = jet_fighter_equipment_2
						}
						cost_factor = 0
					}
				}
			}
		}
	}

	option = {# no
		name = DOD_hungary.153.b
		ai_chance = {
			factor = 10
			modifier = {
				is_in_faction_with = YU0
				factor = 0
			}
		}
		if = {
			limit = { original_tag = GER }
			YU0 = { set_country_flag = GER_fighter_refused }
		}
		if = {
			limit = { original_tag = ITA }
			YU0 = { set_country_flag = ITA_fighter_refused }
		}
		if = {
			limit = { original_tag = FRA }
			YU0 = { set_country_flag = FRA_fighter_refused }
		}
		if = {
			limit = { original_tag = ENG }
			YU0 = { set_country_flag = ENG_fighter_refused }
		}
		if = {
			limit = { original_tag = USA }
			YU0 = { set_country_flag = USA_fighter_refused }
		}
		YU0 = { country_event = DOD_yugoslavia.151 }
		YU0 = {
			ROOT = {
				reverse_add_opinion_modifier = { target = PREV modifier = refused_help }
			}
		}
	}
}

#fighter competition - heavy fighter competition winner gets a choice whether to permit license production
country_event = {
	id = DOD_yugoslavia.154
	title = DOD_hungary.153.t
	desc = DOD_hungary.154.desc 
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes

	option = {# certainly
		name = DOD_hungary.153.a
		ai_chance = {
			factor = 90
			modifier = {
				has_war = yes
				factor = 0.5
			}
		}
		YU0 = { country_event = DOD_yugoslavia.155 }
		air_experience = 20
		if = {
			limit = {
				has_tech = heavy_fighter1
				NOT = { has_tech = heavy_fighter2 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = heavy_fighter_equipment_1
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = heavy_fighter2
				NOT = { has_tech = heavy_fighter3 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV
						equipment = {
							type = heavy_fighter_equipment_2	
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = heavy_fighter3
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = heavy_fighter_equipment_3
						}
						cost_factor = 0
					}
				}
			}
		}
		
	}

	option = {# no
		name = DOD_hungary.153.b
		ai_chance = {
			factor = 10
			modifier = {
				is_in_faction_with = YU0
				factor = 0
			}
		}
		if = {
			limit = { original_tag = GER }
			YU0 = { set_country_flag = GER_heavy_fighter_refused }
		}
		if = {
			limit = { original_tag = ITA }
			YU0 = { set_country_flag = ITA_heavy_fighter_refused }
		}
		if = {
			limit = { original_tag = FRA }
			YU0 = { set_country_flag = FRA_heavy_fighter_refused }
		}
		if = {
			limit = { original_tag = ENG }
			YU0 = { set_country_flag = ENG_heavy_fighter_refused }
		}
		if = {
			limit = { original_tag = USA }
			YU0 = { set_country_flag = USA_heavy_fighter_refused }
		}
		YU0 = { country_event = DOD_yugoslavia.152 }
		YU0 = {
			ROOT = {
				reverse_add_opinion_modifier = { target = PREV modifier = refused_help }
			}
		}
	}
}

#fighter competition - license production approved
country_event = {
	id = DOD_yugoslavia.155
	title = DOD_hungary.155.t
	desc = DOD_hungary.155.desc 
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes

	option = {# neat
		name = DOD_hungary.155.a
		
	}
}


#bomber competition - initial choice for Yugoslavia
country_event = {
	id = DOD_yugoslavia.160
	title = DOD_hungary.160.t
	desc = DOD_hungary.160.desc 
	picture = GFX_report_event_generic_bombers
	
	is_triggered_only = yes

	option = {# CAS
		name = DOD_hungary.160.a
		trigger = {
			OR = {
				GE0 = {
					is_available_cas_YUG = yes
				}
				FR0 = {
					is_available_cas_YUG = yes
				}
				IT0 = {
					is_available_cas_YUG = yes
				}
				EN0 = {
					is_available_cas_YUG = yes
				}
				US0 = {
					is_available_cas_YUG = yes
				}
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				has_tech = CAS1
				add = -10
			}
			modifier = {
				has_tech = CAS2
				add = -10
			}
			modifier = {
				has_tech = CAS3
				factor = 0
			}
		}
		country_event = DOD_yugoslavia.161 	
	}

	option = {# TAC
		name = DOD_hungary.160.b
		trigger = {
			OR = {
				GE0 = {
					is_available_tac_YUG = yes
				}
				FR0 = {
					is_available_tac_YUG = yes
				}
				IT0 = {
					is_available_tac_YUG = yes
				}
				EN0 = {
					is_available_tac_YUG = yes
				}
				US0 = {
					is_available_tac_YUG = yes
				}
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				has_tech = tactical_bomber1
				add = -10
			}
			modifier = {
				has_tech = tactical_bomber2
				add = -10
			}
			modifier = {
				has_tech = tactical_bomber3
				factor = 0
			}
		}
		country_event = DOD_yugoslavia.162
	}
}

#Bomber competition - Yugoslavia is looking for a CAS
country_event = {
	id = DOD_yugoslavia.161
	title = DOD_hungary.161.t
	desc = {
		text = DOD_hungary.161.desc_cas
		trigger = {
			NOT = { 
				has_country_flag = GER_CAS_refused
				has_country_flag = ENG_CAS_refused
				has_country_flag = USA_CAS_refused
				has_country_flag = FRA_CAS_refused
				has_country_flag = ITA_CAS_refused
			} 
		}
	}
	desc = {
		text = DOD_hungary.161.desc_cas_refused
		trigger = {
			OR = {
		 		has_country_flag = GER_CAS_refused
				has_country_flag = ENG_CAS_refused
				has_country_flag = USA_CAS_refused
				has_country_flag = FRA_CAS_refused
				has_country_flag = ITA_CAS_refused
		 	}
		}
	}
	picture = GFX_report_event_generic_bombers
	
	is_triggered_only = yes

	option = {# Select German Plane
		name = DOD_hungary.151.a
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = GE0
				factor = 10
			}
			modifier = {
				GE0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				GE0 = {
					has_tech = CAS1
				}
				add = 10
			}
			modifier = {
				GE0 = {
					has_tech = CAS2
				}
				add = 10
			}
			modifier = {
				GE0 = {
					has_tech = CAS3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					GE0 = { has_tech = CAS1}
					YU0 = { NOT = { has_tech = CAS1 } }
				}
				AND = {
					GE0 = { has_tech = CAS2}
					YU0 = { NOT = { has_tech = CAS2 } }
				}
				AND = {
					GE0 = { has_tech = CAS3}
					YU0 = { NOT = { has_tech = CAS3 } }
				}
			}
			NOT = { has_war_with = GE0 }
			NOT = { has_country_flag = GER_CAS_refused }
		}
		GE0 = { country_event = DOD_yugoslavia.163 }	
	}

	option = {# select italian plane
		name = DOD_hungary.151.b
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = IT0
				factor = 10
			}
			modifier = {
				IT0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				IT0 = {
					has_tech = CAS1
				}
				add = 10
			}
			modifier = {
				IT0 = {
					has_tech = CAS2
				}
				add = 10
			}
			modifier = {
				IT0 = {
					has_tech = CAS3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					IT0 = { has_tech = CAS1}
					YU0 = { NOT = { has_tech = CAS1 } }
				}
				AND = {
					IT0 = { has_tech = CAS2}
					YU0 = { NOT = { has_tech = CAS2 } }
				}
				AND = {
					IT0 = { has_tech = CAS3}
					YU0 = { NOT = { has_tech = CAS3 } }
				}
			}
			NOT = { has_war_with = IT0 }
			NOT = { has_country_flag = ITA_CAS_refused }
		}
		IT0 = { country_event = DOD_yugoslavia.163 }	
	}

	option = {# select french plane
		name = DOD_hungary.151.c
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = FR0
				factor = 10
			}
			modifier = {
				FR0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				FR0 = {
					has_tech = CAS1
				}
				add = 10
			}
			modifier = {
				FR0 = {
					has_tech = CAS2
				}
				add = 10
			}
			modifier = {
				FR0 = {
					has_tech = CAS3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					FR0 = { has_tech = CAS1}
					YU0 = { NOT = { has_tech = CAS1 } }
				}
				AND = {
					FR0 = { has_tech = CAS2}
					YU0 = { NOT = { has_tech = CAS2 } }
				}
				AND = {
					FR0 = { has_tech = CAS3}
					YU0 = { NOT = { has_tech = CAS3 } }
				}
			}
			NOT = { has_war_with = FR0 }
			NOT = { has_country_flag = FRA_CAS_refused }
		}
		FR0 = { country_event = DOD_yugoslavia.163 }	
	}
	option = {# select british plane
		name = DOD_hungary.151.d
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = EN0
				factor = 10
			}
			modifier = {
				EN0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				EN0 = {
					has_tech = CAS1
				}
				add = 10
			}
			modifier = {
				EN0 = {
					has_tech = CAS2
				}
				add = 10
			}
			modifier = {
				EN0 = {
					has_tech = CAS3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					EN0 = { has_tech = CAS1}
					YU0 = { NOT = { has_tech = CAS1 } }
				}
				AND = {
					EN0 = { has_tech = CAS2}
					YU0 = { NOT = { has_tech = CAS2 } }
				}
				AND = {
					EN0 = { has_tech = CAS3}
					YU0 = { NOT = { has_tech = CAS3 } }
				}
			}
			NOT = { has_war_with = EN0 }
			NOT = { has_country_flag = ENG_CAS_refused }
		}
		EN0 = { country_event = DOD_yugoslavia.163 }	
	}
	option = {# select american plane
		name = DOD_hungary.151.e
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = US0
				factor = 10
			}
			modifier = {
				US0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				US0 = {
					has_tech = CAS1
				}
				add = 10
			}
			modifier = {
				US0 = {
					has_tech = CAS2
				}
				add = 10
			}
			modifier = {
				US0 = {
					has_tech = CAS3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					US0 = { has_tech = CAS1}
					YU0 = { NOT = { has_tech = CAS1 } }
				}
				AND = {
					US0 = { has_tech = CAS2}
					YU0 = { NOT = { has_tech = CAS2 } }
				}
				AND = {
					US0 = { has_tech = CAS3}
					YU0 = { NOT = { has_tech = CAS3 } }
				}
			}
			NOT = { has_war_with = US0 }
			NOT = { has_country_flag = USA_CAS_refused }
			NOT = { #to prevent overflow issues
				AND = {
					GE0 = {
						is_available_cas_YUG = yes
					}
					FR0 = {
						is_available_cas_YUG = yes
					}
					IT0 = {
						is_available_cas_YUG = yes
					}
					EN0 = {
						is_available_cas_YUG = yes
					}
				}
			}
		}
		US0 = { country_event = DOD_yugoslavia.163 }	
	}
	option = {# failsafe
		name = DOD_hungary.151.f	
		trigger = {
			OR = {
				has_country_flag = GER_fighter_refused
				has_country_flag = ITA_fighter_refused
				has_country_flag = ENG_fighter_refused
				has_country_flag = FRA_fighter_refused
				has_country_flag = USA_fighter_refused
			}
		}
		air_experience = 50
	}

}
#Fighter competition - Yugoslavia is looking for a tacbomber
country_event = {
	id = DOD_yugoslavia.162
	title = DOD_hungary.162.t
	desc = {
		text = DOD_hungary.162.desc_tac
		trigger = {
			NOT = { 
				has_country_flag = GER_tactical_bomber_refused
				has_country_flag = ENG_tactical_bomber_refused
				has_country_flag = USA_tactical_bomber_refused
				has_country_flag = FRA_tactical_bomber_refused
				has_country_flag = ITA_tactical_bomber_refused
			} 
		}
	}
	desc = {
		text = DOD_hungary.162.desc_tac_refused
		trigger = {
			OR = {
		 		has_country_flag = GER_tactical_bomber_refused
				has_country_flag = ENG_tactical_bomber_refused
				has_country_flag = USA_tactical_bomber_refused
				has_country_flag = FRA_tactical_bomber_refused
				has_country_flag = ITA_tactical_bomber_refused
		 	}
		}
	}
	picture = GFX_report_event_generic_bombers
	
	is_triggered_only = yes

	option = {# Select German Plane
		name = DOD_hungary.151.a
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = GE0
				factor = 10
			}
			modifier = {
				GE0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				GE0 = {
					has_tech = tactical_bomber1
				}
				add = 10
			}
			modifier = {
				GE0 = {
					has_tech = tactical_bomber2
				}
				add = 10
			}
			modifier = {
				GE0 = {
					has_tech = tactical_bomber3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					GE0 = { has_tech = tactical_bomber1}
					YU0 = { NOT = { has_tech = tactical_bomber1 } }
				}
				AND = {
					GE0 = { has_tech = tactical_bomber2}
					YU0 = { NOT = { has_tech = tactical_bomber2 } }
				}
				AND = {
					GE0 = { has_tech = tactical_bomber3}
					YU0 = { NOT = { has_tech = tactical_bomber3 } }
				}
			}
			NOT = { has_war_with = GE0 }
			NOT = { has_country_flag = GER_tactical_bomber_refused }
		}
		GE0 = { country_event = DOD_yugoslavia.164 }	
	}

	option = {# select italian plane
		name = DOD_hungary.151.b
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = IT0
				factor = 10
			}
			modifier = {
				IT0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				IT0 = {
					has_tech = tactical_bomber1
				}
				add = 10
			}
			modifier = {
				IT0 = {
					has_tech = tactical_bomber2
				}
				add = 10
			}
			modifier = {
				IT0 = {
					has_tech = tactical_bomber3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					IT0 = { has_tech = tactical_bomber1}
					YU0 = { NOT = { has_tech = tactical_bomber1 } }
				}
				AND = {
					IT0 = { has_tech = tactical_bomber2}
					YU0 = { NOT = { has_tech = tactical_bomber2 } }
				}
				AND = {
					IT0 = { has_tech = tactical_bomber3}
					YU0 = { NOT = { has_tech = tactical_bomber3 } }
				}
			}
			NOT = { has_war_with = IT0 }
			NOT = { has_country_flag = ITA_tactical_bomber_refused }
		}
		IT0 = { country_event = DOD_yugoslavia.164 }	
	}

	option = {# select french plane
		name = DOD_hungary.151.c
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = FR0
				factor = 10
			}
			modifier = {
				FR0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				FR0 = {
					has_tech = tactical_bomber1
				}
				add = 10
			}
			modifier = {
				FR0 = {
					has_tech = tactical_bomber2
				}
				add = 10
			}
			modifier = {
				FR0 = {
					has_tech = tactical_bomber3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					FR0 = { has_tech = tactical_bomber1}
					YU0 = { NOT = { has_tech = tactical_bomber1 } }
				}
				AND = {
					FR0 = { has_tech = tactical_bomber2}
					YU0 = { NOT = { has_tech = tactical_bomber2 } }
				}
				AND = {
					FR0 = { has_tech = tactical_bomber3}
					YU0 = { NOT = { has_tech = tactical_bomber3 } }
				}
			}
			NOT = { has_war_with = FR0 }
			NOT = { has_country_flag = FRA_tactical_bomber_refused }
		}
		FR0 = { country_event = DOD_yugoslavia.164 }	
	}
	option = {# select british plane
		name = DOD_hungary.151.d
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = EN0
				factor = 10
			}
			modifier = {
				EN0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				EN0 = {
					has_tech = tactical_bomber1
				}
				add = 10
			}
			modifier = {
				EN0 = {
					has_tech = tactical_bomber2
				}
				add = 10
			}
			modifier = {
				EN0 = {
					has_tech = tactical_bomber3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					EN0 = { has_tech = tactical_bomber1}
					YU0 = { NOT = { has_tech = tactical_bomber1 } }
				}
				AND = {
					EN0 = { has_tech = tactical_bomber2}
					YU0 = { NOT = { has_tech = tactical_bomber2 } }
				}
				AND = {
					EN0 = { has_tech = tactical_bomber3}
					YU0 = { NOT = { has_tech = tactical_bomber3 } }
				}
			}
			NOT = { has_war_with = EN0 }
			NOT = { has_country_flag = ENG_tactical_bomber_refused }
		}
		EN0 = { country_event = DOD_yugoslavia.164 }	
	}
	option = {# select american plane
		name = DOD_hungary.151.e
		ai_chance = {
			factor = 30
			modifier = {
				is_in_faction_with = US0
				factor = 10
			}
			modifier = {
				US0 = { has_government = ROOT }
				factor = 2
			}
			modifier = {
				US0 = {
					has_tech = tactical_bomber1
				}
				add = 10
			}
			modifier = {
				US0 = {
					has_tech = tactical_bomber2
				}
				add = 10
			}
			modifier = {
				US0 = {
					has_tech = tactical_bomber3
				}
				add = 10
			}
		}
		trigger = {
			OR = {
				AND = {
					US0 = { has_tech = tactical_bomber1}
					YU0 = { NOT = { has_tech = tactical_bomber1 } }
				}
				AND = {
					US0 = { has_tech = tactical_bomber2}
					YU0 = { NOT = { has_tech = tactical_bomber2 } }
				}
				AND = {
					US0 = { has_tech = tactical_bomber3}
					YU0 = { NOT = { has_tech = tactical_bomber3 } }
				}
			}
			NOT = { has_war_with = US0 }
			NOT = { has_country_flag = USA_tactical_bomber_refused }
			NOT = { #to prevent overflow issues
				AND = {
					GE0 = {
						is_available_tac_YUG = yes
					}
					FR0 = {
						is_available_tac_YUG = yes
					}
					IT0 = {
						is_available_tac_YUG = yes
					}
					EN0 = {
						is_available_tac_YUG = yes
					}
				}
			}
		}
		US0 = { country_event = DOD_yugoslavia.164 }	
	}
	option = {# failsafe
		name = DOD_hungary.151.f	
		trigger = {
			OR = {
				has_country_flag = GER_fighter_refused
				has_country_flag = ITA_fighter_refused
				has_country_flag = ENG_fighter_refused
				has_country_flag = FRA_fighter_refused
				has_country_flag = USA_fighter_refused
			}
		}
		air_experience = 50
	}

}

#bomber competition - CAS competition winner gets a choice whether to permit license production
country_event = {
	id = DOD_yugoslavia.163
	title = DOD_hungary.163.t
	desc = DOD_hungary.163.desc 
	picture = GFX_report_event_generic_bombers
	
	is_triggered_only = yes

	option = {# certainly
		name = DOD_hungary.163.a
		ai_chance = {
			factor = 90
			modifier = {
				has_war = yes
				factor = 0.5
			}
		}
		YU0 = { country_event = DOD_yugoslavia.165 }
		air_experience = 20
		if = {
			limit = {
				has_tech = CAS1
				NOT = { has_tech = CAS2 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = CAS_equipment_1
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = CAS2
				NOT = { has_tech = CAS3 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = CAS_equipment_2	
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = CAS3
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = CAS_equipment_3
						}
						cost_factor = 0
					}
				}
			}
		}
	}

	option = {# no
		name = DOD_hungary.163.b
		ai_chance = {
			factor = 10
			modifier = {
				is_in_faction_with = YU0
				factor = 0
			}
		}
		if = {
			limit = { original_tag = GER }
			YU0 = { set_country_flag = GER_CAS_refused }
		}
		if = {
			limit = { original_tag = ITA }
			YU0 = { set_country_flag = ITA_CAS_refused }
		}
		if = {
			limit = { original_tag = FRA }
			YU0 = { set_country_flag = FRA_CAS_refused }
		}
		if = {
			limit = { original_tag = ENG }
			YU0 = { set_country_flag = ENG_CAS_refused }
		}
		if = {
			limit = { original_tag = USA }
			YU0 = { set_country_flag = USA_CAS_refused }
		}
		YU0 = { country_event = DOD_yugoslavia.161 }
		YU0 = {
			ROOT = {
				reverse_add_opinion_modifier = { target = PREV modifier = refused_help }
			}
		}
	}
}

#bomber competition - tac bomber competition winner gets a choice whether to permit license production
country_event = {
	id = DOD_yugoslavia.164
	title = DOD_hungary.164.t
	desc = DOD_hungary.164.desc 
	picture = GFX_report_event_generic_bombers
	
	is_triggered_only = yes

	option = {# certainly
		name = DOD_hungary.164.a
		ai_chance = {
			factor = 90
			modifier = {
				has_war = yes
				factor = 0.5
			}
		}
		YU0 = { country_event = DOD_yugoslavia.165 }
		air_experience = 20
		if = {
			limit = {
				has_tech = tactical_bomber1
				NOT = { has_tech = tactical_bomber2 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = tac_bomber_equipment_1
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = tactical_bomber2
				NOT = { has_tech = tactical_bomber3 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = tac_bomber_equipment_2	
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = tactical_bomber3
				NOT = { has_tech = jet_tactical_bomber1 }
			}
			YU0 = {
				ROOT = {
					create_production_license = {
						target = PREV
						equipment = {
							type = tac_bomber_equipment_3
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = jet_tactical_bomber1
				NOT = { has_tech = jet_tactical_bomber2 }
			}
			YU0 = {	
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = jet_tac_bomber_equipment_1
						}
						cost_factor = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_tech = jet_tactical_bomber2
			}
			YU0 = {	
				ROOT = {
					create_production_license = {
						target = PREV 
						equipment = {
							type = jet_tac_bomber_equipment_2
						}
						cost_factor = 0
					}
				}
			}
		}
	}

	option = {# no
		name = DOD_hungary.164.b
		ai_chance = {
			factor = 10
			modifier = {
				is_in_faction_with = YU0
				factor = 0
			}
		}
		if = {
			limit = { original_tag = GER }
			YU0 = { set_country_flag = GER_tactical_bomber_refused }
		}
		if = {
			limit = { original_tag = ITA }
			YU0 = { set_country_flag = ITA_tactical_bomber_refused }
		}
		if = {
			limit = { original_tag = FRA }
			YU0 = { set_country_flag = FRA_tactical_bomber_refused }
		}
		if = {
			limit = { original_tag = ENG }
			YU0 = { set_country_flag = ENG_tactical_bomber_refused }
		}
		if = {
			limit = { original_tag = USA }
			YU0 = { set_country_flag = USA_tactical_bomber_refused }
		}
		YU0 = { country_event = DOD_yugoslavia.162 }
		YU0 = {
			ROOT = {
				reverse_add_opinion_modifier = { target = PREV modifier = refused_help }
			}
		}
	}
}

#bomber competition - license production approved
country_event = {
	id = DOD_yugoslavia.165
	title = DOD_hungary.165.t
	desc = DOD_hungary.165.desc 
	picture = GFX_report_event_generic_bombers
	
	is_triggered_only = yes

	option = {# neat
		name = DOD_hungary.165.a
		
	}
}